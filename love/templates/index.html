{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>For My Ajay â¤ï¸</title>

<style>
body {
    margin: 0;
    height: 100vh;
    overflow: hidden;
    font-family: Arial, sans-serif;
    background: linear-gradient(135deg, #ff758c, #ff7eb3);
    display: flex;
    justify-content: center;
    align-items: center;
    text-align: center;
    color: white;
}

.container {
    background: rgba(255, 255, 255, 0.2);
    padding: 30px 20px;
    border-radius: 20px;
    backdrop-filter: blur(10px);
    box-shadow: 0 0 40px rgba(255, 255, 255, 0.4);
    position: relative;
    z-index: 2;
    max-width: 90%;
    width: 400px;
}

h1 { font-size: 28px; margin-bottom: 10px; }
p { font-size: 16px; line-height: 1.5; }
h2 { font-size: 20px; margin-top: 20px; }

.buttons { margin-top: 25px; position: relative; }

button {
    padding: 10px 25px;
    margin: 8px;
    font-size: 16px;
    border: none;
    border-radius: 25px;
    cursor: pointer;
    transition: transform 0.2s ease;
}

.yes-btn { background: #ff4d6d; color: white; }
.yes-btn:hover { transform: scale(1.1); }

.no-btn { background: white; color: #ff4d6d; position: absolute; }

/* HEARTS */
#hearts {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    overflow: hidden;
    z-index: 1;
}

/* MOBILE */
@media only screen and (max-width: 500px) {
    .container { padding: 20px 15px; width: 90%; }
    h1 { font-size: 24px; }
    h2 { font-size: 18px; }
    p { font-size: 14px; }
    button { padding: 8px 20px; font-size: 14px; }
}
</style>
</head>
<body>

<audio id="bgMusic" loop>
    <source src="{% static 'music/music ik.mp3' %}" type="audio/mpeg">
</audio>

<div id="hearts"></div>

<div class="container" id="mainCard">
    <h1>My Dearest Ajay ğŸ’–</h1>
    <p>You are my happiness and my forever person âœ¨</p>
    <h2>Will you be my Valentine forever? ğŸ’ğŸ’˜</h2>
    <div class="buttons">
        <button class="yes-btn" onclick="yesClicked()">Yes ğŸ’•</button>
        <button class="no-btn" id="noBtn">No ğŸ˜œ</button>
    </div>
</div>

<script>
const noBtn = document.getElementById("noBtn");
const heartContainer = document.getElementById("hearts");
const music = document.getElementById("bgMusic");

// Random continuous movement for No button
function moveNoButtonRandomly() {
    const x = Math.random() * (window.innerWidth - noBtn.offsetWidth);
    const y = Math.random() * (window.innerHeight - noBtn.offsetHeight);
    noBtn.style.left = x + "px";
    noBtn.style.top = y + "px";
}

// Move it every 500ms
setInterval(moveNoButtonRandomly, 500);

// Also move on hover/tap (mobile friendly)
noBtn.addEventListener("mouseover", moveNoButtonRandomly);
noBtn.addEventListener("click", e => { e.preventDefault(); moveNoButtonRandomly(); });

// YES button
function yesClicked() {
    music.play().catch(err=>console.log(err));
    document.getElementById("mainCard").innerHTML = `
        <h1 style="font-size:32px;">Yayyy Ammuuuu  ğŸ˜ğŸ’–</h1>
        <h2 style="font-size:22px;">I Love You Forever ğŸ’ğŸ’˜</h2>
        <p>You are mine forever now ğŸ˜ŒğŸ’•</p>
    `;
}

// FLOATING HEARTS
function createHeart() {
    const heart = document.createElement("span");
    heart.innerHTML = "ğŸ’–";
    heart.style.position = "absolute";
    heart.style.fontSize = (Math.random()*25 + 15) + "px";
    heart.style.left = Math.random() * window.innerWidth + "px";
    heart.style.top = window.innerHeight + "px";

    const speed = Math.random()*1.5 + 0.5;
    const sway = Math.random() + 0.5;
    let posY = window.innerHeight;
    let posX = parseFloat(heart.style.left);

    function animate() {
        posY -= speed;
        posX += Math.sin(posY * 0.05) * sway;
        heart.style.top = posY + "px";
        heart.style.left = posX + "px";
        if(posY < -50) heart.remove();
        else requestAnimationFrame(animate);
    }

    heartContainer.appendChild(heart);
    animate();
}

setInterval(createHeart, 200);
</script>

</body>
</html>
